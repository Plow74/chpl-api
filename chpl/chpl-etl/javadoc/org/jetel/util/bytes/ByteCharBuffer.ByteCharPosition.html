<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Fri Mar 06 12:54:13 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ByteCharBuffer.ByteCharPosition</title>
<meta name="date" content="2015-03-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ByteCharBuffer.ByteCharPosition";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.html" title="class in org.jetel.util.bytes"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jetel/util/bytes/CloverBuffer.html" title="class in org.jetel.util.bytes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html" target="_top">Frames</a></li>
<li><a href="ByteCharBuffer.ByteCharPosition.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jetel.util.bytes</div>
<h2 title="Class ByteCharBuffer.ByteCharPosition" class="title">Class ByteCharBuffer.ByteCharPosition</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.jetel.util.bytes.ByteCharBuffer.ByteCharPosition</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.html" title="class in org.jetel.util.bytes">ByteCharBuffer</a></dd>
</dl>
<hr>
<br>
<pre>public static class <span class="strong">ByteCharBuffer.ByteCharPosition</span>
extends java.lang.Object</pre>
<div class="block"><h2>ByteCharPosition</h2>
 
 <p>This class represents a position of a character in input (file).</p>
 
 <p>This is generally tricky as there is no way how to compute character
 index from number of bytes because variable byte-length charset can be
 used.</p>
 
 <p>So, we do a trick too: We identify the character by enumerating bytes
 that are surely BEFORE the character so that they can be safely skipped.
 This is `byteBufferBase` (or bBase). Reading the following bytes produces a byte
 buffer that in turn produces a char buffer after decoding (using the
 correct charset). In this char buffer, our character is located at
 `charOffset` (cOffset) index. The absolute position of a character is cBase + cOffset.</p>
 
 <p>So a particular character can be specified by many different ByteCharPosition objects.
 Let's say the 24th character in an utf-8 encoded file with international characters can
 be found at byte #32. Such character is correctly idenfied as<br/>
 <p>
 for example:<br/>
 <code>ByteCharPosition[bBase=0;cBase=0;cOffset=23]</code><br/>
 <code>ByteCharPosition[bBase=10;cBase=10;cOffset=13]</code> (first ten characters were all ASCII single-byte)<br/>
 <code>ByteCharPosition[bBase=12;cBase=10;cOffset=13]</code> (there were two double-byte characters in first ten chars)<br/>
 <code>ByteCharPosition[bBase=30;cBase=20;cOffset=3]</code> (lot of i18n characters)</p>
 
 <p>Note that byte offset of our character (32) never appears in position designation as it is irrelevant.</p>
 <p>Also note, that all correct positions can be used, but the ones that are close to real character position
 in the file produce best performance results - i.e. Although position [0, 0, 100 000] is theoretically correct,
 it is much slower than e.g. [99 900, 99 900, 100]  because in first case the buffer has to traverse
 the file from the beginning until it reaches to the requested character. In second case it will
 skip first 99 900 characters directly and traverse only 100 characters.</p> 
 
 <p>Two position objects are identical when sum of their character base (cBase) and character offset (cOffset)
 produces the same absolute character index and reading (bBase) bytes from input file will produce exactly cBase characters
 after decoding with the same decoder.</p> 
 
 <p>The position object should also carry the CharsetDecoder as the position objects for different decoders vary.
 For convenience the decoder is not included in position object and treated as implicitly correct.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#byteBufferBase">byteBufferBase</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#charBufferBase">charBufferBase</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#charOffset">charOffset</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#ByteCharBuffer.ByteCharPosition(long, long, long)">ByteCharBuffer.ByteCharPosition</a></strong>(long&nbsp;byteBufferBase,
                               long&nbsp;charBufferBase,
                               long&nbsp;charOffset)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#getByteBufferBase()">getByteBufferBase</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#getCharBufferBase()">getCharBufferBase</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#getCharIndex()">getCharIndex</a></strong>()</code>
<div class="block">Returns the absolute character index in input file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#getCharOffset()">getCharOffset</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="byteBufferBase">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>byteBufferBase</h4>
<pre>public&nbsp;long byteBufferBase</pre>
</li>
</ul>
<a name="charBufferBase">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>charBufferBase</h4>
<pre>public&nbsp;long charBufferBase</pre>
</li>
</ul>
<a name="charOffset">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>charOffset</h4>
<pre>public&nbsp;long charOffset</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ByteCharBuffer.ByteCharPosition(long, long, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ByteCharBuffer.ByteCharPosition</h4>
<pre>public&nbsp;ByteCharBuffer.ByteCharPosition(long&nbsp;byteBufferBase,
                               long&nbsp;charBufferBase,
                               long&nbsp;charOffset)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCharBufferBase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCharBufferBase</h4>
<pre>public&nbsp;long&nbsp;getCharBufferBase()</pre>
</li>
</ul>
<a name="getCharOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCharOffset</h4>
<pre>public&nbsp;long&nbsp;getCharOffset()</pre>
</li>
</ul>
<a name="getByteBufferBase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByteBufferBase</h4>
<pre>public&nbsp;long&nbsp;getByteBufferBase()</pre>
</li>
</ul>
<a name="getCharIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCharIndex</h4>
<pre>public&nbsp;long&nbsp;getCharIndex()</pre>
<div class="block">Returns the absolute character index in input file</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Absolute character index</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jetel/util/bytes/ByteCharBuffer.html" title="class in org.jetel.util.bytes"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jetel/util/bytes/CloverBuffer.html" title="class in org.jetel.util.bytes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jetel/util/bytes/ByteCharBuffer.ByteCharPosition.html" target="_top">Frames</a></li>
<li><a href="ByteCharBuffer.ByteCharPosition.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
				<address>Copyright &#169; 2002-2015 Javlin a.s.</address>
			</small></p>
</body>
</html>
