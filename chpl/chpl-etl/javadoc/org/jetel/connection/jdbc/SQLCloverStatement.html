<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Fri Mar 06 12:54:26 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>SQLCloverStatement</title>
<meta name="date" content="2015-03-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SQLCloverStatement";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jetel/connection/jdbc/SQLCloverCallableStatement.html" title="class in org.jetel.connection.jdbc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jetel/connection/jdbc/SQLDataParser.html" title="class in org.jetel.connection.jdbc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jetel/connection/jdbc/SQLCloverStatement.html" target="_top">Frames</a></li>
<li><a href="SQLCloverStatement.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jetel.connection.jdbc</div>
<h2 title="Class SQLCloverStatement" class="title">Class SQLCloverStatement</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.jetel.connection.jdbc.SQLCloverStatement</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SQLCloverStatement</span>
extends java.lang.Object</pre>
<div class="block">This class represents prepared statement with CopySQLData[] object prepared to work with concrete record.
 It can work with queries in internal clover format or with queries with place holders [?]:
 <ul><li><i>insert into mytable [(f1,f2,...,fn)] values (val1, $field2, ...,$fieldm ) returning $key := dbfield1, $field := dbfield2</i> 
 or <i>insert into mytable [(f1,f2,...,fn)] values (val1, $field2, ...,$fieldm ) returning $key := auto_generated, $field := infield</i> 
 <ul><li>$field2, ...,$fieldm are interpreted as input record's fields</li>
 <li>$key, $field are interpreted as output record's fields</li>
 <li>fields on assignments right sides in <i>where</i> clause are interpreted as database or clover fields depending on database type 
 (<a href="../../../../org/jetel/component/DBOutputTable.html" title="class in org.jetel.component"><code>DBOutputTable</code></a> and <a href="../../../../org/jetel/connection/jdbc/AutoKeyGenerator.html" title="class in org.jetel.connection.jdbc"><code>AutoKeyGenerator</code></a>)</li></ul></li>
 <li><i>update mytable set dbField1 = $f1 where dbField2=$f2 returning $update:=update_count, $field:=infield</i> or
 <i>delete from mytable where dbField = $f1 returning $update:=update_count, $field:=infield</i>
  <ul><li>$f1, $f2 , infield are interpreted as input record's fields</li>
 <li>$update, $field are interpreted as output record's fields</li>
 <li> field on which is mapped <i>update_count</i> is filled by number of records updated in database by current query</li></ul></li>
 <li><i>insert into mytable [(f1,f2,...,fn)] values (val1, ?, ...,? )</i> or <i>update mytable set dbField1 = ? where dbField2=?</i>
 <ul><li>needs to set <i>cloverFields</i> and <i>dbFields</i>, eg. <i>cloverFields={field2, ...,fieldm}</i> or 
 <i>cloverFields={f1, f2}</i> and <i>dbFields={f1,f2,...,fn}</i> or <i>dbFields={dbField1, dbField2}</i> respectively</li>
 <li>can be set <i>autoGeneratedColumns</i>, eg. <i>{dbField1, .., dbFieldN}</i></li></ul></li></ul></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>Nov 2, 2007</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#RETURNING_KEY_WORD">RETURNING_KEY_WORD</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#UPDATE_NUMBER_FIELD_NAME">UPDATE_NUMBER_FIELD_NAME</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#SQLCloverStatement(org.jetel.database.sql.SqlConnection, java.lang.String, org.jetel.data.DataRecord)">SQLCloverStatement</a></strong>(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection,
                  java.lang.String&nbsp;query,
                  <a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;inRecord)</code>
<div class="block">Constructor for sql query containing db - clover mapping</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#SQLCloverStatement(org.jetel.database.sql.SqlConnection, java.lang.String, org.jetel.data.DataRecord, java.lang.String[])">SQLCloverStatement</a></strong>(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection,
                  java.lang.String&nbsp;query,
                  <a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;inRecord,
                  java.lang.String[]&nbsp;cloverFields)</code>
<div class="block">Constructor for sql query containing question marks</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#SQLCloverStatement(org.jetel.database.sql.SqlConnection, java.lang.String, org.jetel.data.DataRecord, java.lang.String[], java.lang.String[])">SQLCloverStatement</a></strong>(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection,
                  java.lang.String&nbsp;query,
                  <a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;record,
                  java.lang.String[]&nbsp;cloverFields,
                  java.lang.String[]&nbsp;autoGeneratedColumns)</code>
<div class="block">Constructor for sql query containing question marks</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#addBatch(org.jetel.data.DataRecord)">addBatch</a></strong>(<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;outRecord)</code>
<div class="block">Adds set of parameters to batch and prepares output record from input record</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jetel/exception/ConfigurationStatus.html" title="class in org.jetel.exception">ConfigurationStatus</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#checkConfig(org.jetel.exception.ConfigurationStatus, org.jetel.metadata.DataRecordMetadata, org.jetel.graph.IGraphElement)">checkConfig</a></strong>(<a href="../../../../org/jetel/exception/ConfigurationStatus.html" title="class in org.jetel.exception">ConfigurationStatus</a>&nbsp;status,
           <a href="../../../../org/jetel/metadata/DataRecordMetadata.html" title="class in org.jetel.metadata">DataRecordMetadata</a>&nbsp;outMetadata,
           <a href="../../../../org/jetel/graph/IGraphElement.html" title="interface in org.jetel.graph">IGraphElement</a>&nbsp;element)</code>
<div class="block">Validates this object for output metadata</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#clearBatch()">clearBatch</a></strong>()</code>
<div class="block">Empties this Statement object's current list of SQL commands.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#close()">close</a></strong>()</code>
<div class="block">Releases this Statement object's database and JDBC resources immediately instead of waiting for this to happen 
 when it is automatically closed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#executeBatch()">executeBatch</a></strong>()</code>
<div class="block">Submits a batch of commands to the database for execution and if all commands execute successfully, returns an 
 array of update counts.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.sql.ResultSet</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#executeQuery()">executeQuery</a></strong>()</code>
<div class="block">Fills prepared statements with data obtained from input record and executes query on database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#executeUpdate(org.jetel.data.DataRecord)">executeUpdate</a></strong>(<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;outRecord)</code>
<div class="block">Fills prepared statements with data obtained from input record and executes update on database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#executeValidate(boolean)">executeValidate</a></strong>(boolean&nbsp;optimizeSelectQuery)</code>
<div class="block">Modifies the query so that it won't do anything for selects, updates and deletes,
 only report sql and other possible problems.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getAutoGeneratedColumn()">getAutoGeneratedColumn</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getBatchResult()">getBatchResult</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getCloverInputFields()">getCloverInputFields</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getCloverOutputFields()">getCloverOutputFields</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jetel/connection/jdbc/SQLIncremental.html" title="class in org.jetel.connection.jdbc">SQLIncremental</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getIncremental()">getIncremental</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getLogger()">getLogger</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getQuery()">getQuery</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jetel/database/sql/QueryType.html" title="enum in org.jetel.database.sql">QueryType</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getQueryType()">getQueryType</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.sql.Statement</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getStatement()">getStatement</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#getTableName()">getTableName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#init()">init</a></strong>()</code>
<div class="block">This method prepares statement from query (which can contain db <--> clover fields mapping)
 and checks input metadata.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#reset()">reset</a></strong>()</code>
<div class="block">Resets this object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#returnResult()">returnResult</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#setBatchUpdate(boolean)">setBatchUpdate</a></strong>(boolean&nbsp;batchUpdate)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#setConnection(org.jetel.database.sql.SqlConnection)">setConnection</a></strong>(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#setIncremental(org.jetel.connection.jdbc.SQLIncremental)">setIncremental</a></strong>(<a href="../../../../org/jetel/connection/jdbc/SQLIncremental.html" title="class in org.jetel.connection.jdbc">SQLIncremental</a>&nbsp;incremental)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#setInRecord(org.jetel.data.DataRecord)">setInRecord</a></strong>(<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;inRecord)</code>
<div class="block">Sets input record.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#setLogger(org.apache.commons.logging.Log)">setLogger</a></strong>(org.apache.commons.logging.Log&nbsp;logger)</code>
<div class="block">Sets logger</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="UPDATE_NUMBER_FIELD_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATE_NUMBER_FIELD_NAME</h4>
<pre>public static final&nbsp;java.lang.String UPDATE_NUMBER_FIELD_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.jetel.connection.jdbc.SQLCloverStatement.UPDATE_NUMBER_FIELD_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="RETURNING_KEY_WORD">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RETURNING_KEY_WORD</h4>
<pre>public static final&nbsp;java.lang.String RETURNING_KEY_WORD</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.jetel.connection.jdbc.SQLCloverStatement.RETURNING_KEY_WORD">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SQLCloverStatement(org.jetel.database.sql.SqlConnection, java.lang.String, org.jetel.data.DataRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SQLCloverStatement</h4>
<pre>public&nbsp;SQLCloverStatement(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection,
                  java.lang.String&nbsp;query,
                  <a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;inRecord)</pre>
<div class="block">Constructor for sql query containing db - clover mapping</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>connection</code> - connection to db</dd><dd><code>query</code> - sql query</dd><dd><code>record</code> - record from which will be set parameters in prepared statement</dd></dl>
</li>
</ul>
<a name="SQLCloverStatement(org.jetel.database.sql.SqlConnection, java.lang.String, org.jetel.data.DataRecord, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SQLCloverStatement</h4>
<pre>public&nbsp;SQLCloverStatement(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection,
                  java.lang.String&nbsp;query,
                  <a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;inRecord,
                  java.lang.String[]&nbsp;cloverFields)</pre>
<div class="block">Constructor for sql query containing question marks</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>connection</code> - connection to db</dd><dd><code>query</code> - sql query</dd><dd><code>record</code> - record from which will be set parameters in prepared statement</dd><dd><code>cloverFields</code> - clover fields to populate</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jetel/component/DBOutputTable.html" title="class in org.jetel.component"><code>DBOutputTable</code></a></dd></dl>
</li>
</ul>
<a name="SQLCloverStatement(org.jetel.database.sql.SqlConnection, java.lang.String, org.jetel.data.DataRecord, java.lang.String[], java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SQLCloverStatement</h4>
<pre>public&nbsp;SQLCloverStatement(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection,
                  java.lang.String&nbsp;query,
                  <a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;record,
                  java.lang.String[]&nbsp;cloverFields,
                  java.lang.String[]&nbsp;autoGeneratedColumns)</pre>
<div class="block">Constructor for sql query containing question marks</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>connection</code> - connection to db</dd><dd><code>query</code> - sql query</dd><dd><code>record</code> - record from which will be set parameters in prepared statement</dd><dd><code>cloverFields</code> - clover fields to populate</dd><dd><code>autoGeneratedColumns</code> - auto generated columns to be returned</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()
          throws <a href="../../../../org/jetel/exception/ComponentNotReadyException.html" title="class in org.jetel.exception">ComponentNotReadyException</a>,
                 java.sql.SQLException</pre>
<div class="block">This method prepares statement from query (which can contain db <--> clover fields mapping)
 and checks input metadata.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/jetel/exception/ComponentNotReadyException.html" title="class in org.jetel.exception">ComponentNotReadyException</a></code></dd>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="checkConfig(org.jetel.exception.ConfigurationStatus, org.jetel.metadata.DataRecordMetadata, org.jetel.graph.IGraphElement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkConfig</h4>
<pre>public&nbsp;<a href="../../../../org/jetel/exception/ConfigurationStatus.html" title="class in org.jetel.exception">ConfigurationStatus</a>&nbsp;checkConfig(<a href="../../../../org/jetel/exception/ConfigurationStatus.html" title="class in org.jetel.exception">ConfigurationStatus</a>&nbsp;status,
                              <a href="../../../../org/jetel/metadata/DataRecordMetadata.html" title="class in org.jetel.metadata">DataRecordMetadata</a>&nbsp;outMetadata,
                              <a href="../../../../org/jetel/graph/IGraphElement.html" title="interface in org.jetel.graph">IGraphElement</a>&nbsp;element)
                                throws java.sql.SQLException</pre>
<div class="block">Validates this object for output metadata</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>status</code> - ConfigurationStatus to be updated in case of some problems.</dd><dd><code>outMetadata</code> - metadata of the record, that will be pass in <a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#executeUpdate(org.jetel.data.DataRecord)"><code>executeUpdate(DataRecord)</code></a>
 or <a href="../../../../org/jetel/connection/jdbc/SQLCloverStatement.html#addBatch(org.jetel.data.DataRecord)"><code>addBatch(DataRecord)</code></a> method, can be null</dd><dd><code>element</code> - Graph element used for reporting more precise problems. Can be null.</dd>
<dt><span class="strong">Returns:</span></dt><dd>status</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - if validation is impossible</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()
           throws java.sql.SQLException</pre>
<div class="block">Resets this object. For complete reset method setInRecord must be called too.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="setConnection(org.jetel.database.sql.SqlConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnection</h4>
<pre>public&nbsp;void&nbsp;setConnection(<a href="../../../../org/jetel/database/sql/SqlConnection.html" title="interface in org.jetel.database.sql">SqlConnection</a>&nbsp;connection)</pre>
</li>
</ul>
<a name="setInRecord(org.jetel.data.DataRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInRecord</h4>
<pre>public&nbsp;void&nbsp;setInRecord(<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;inRecord)
                 throws <a href="../../../../org/jetel/exception/ComponentNotReadyException.html" title="class in org.jetel.exception">ComponentNotReadyException</a></pre>
<div class="block">Sets input record.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>inRecord</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/jetel/exception/ComponentNotReadyException.html" title="class in org.jetel.exception">ComponentNotReadyException</a></code></dd></dl>
</li>
</ul>
<a name="executeUpdate(org.jetel.data.DataRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdate</h4>
<pre>public&nbsp;int&nbsp;executeUpdate(<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;outRecord)
                  throws java.sql.SQLException</pre>
<div class="block">Fills prepared statements with data obtained from input record and executes update on database.
 If argument is not null sets on requested field number of updated records and  fills its requested fields from input record</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of updated records in database</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="executeQuery()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQuery</h4>
<pre>public&nbsp;java.sql.ResultSet&nbsp;executeQuery()
                                throws java.sql.SQLException</pre>
<div class="block">Fills prepared statements with data obtained from input record and executes query on database.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>result set got from database</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="executeValidate(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeValidate</h4>
<pre>public&nbsp;void&nbsp;executeValidate(boolean&nbsp;optimizeSelectQuery)
                     throws java.sql.SQLException,
                            <a href="../../../../org/jetel/exception/ComponentNotReadyException.html" title="class in org.jetel.exception">ComponentNotReadyException</a></pre>
<div class="block">Modifies the query so that it won't do anything for selects, updates and deletes,
 only report sql and other possible problems.
 
 At the moment, insert queries can not be validated (how one does that)
 
 It would be best to use a parser to parse the query and add where 0=1 appropriately
 At the moment selects are wrapped inside outer select and update/delete statements
 are simply searched for where clause or added if not found
 
 WARNING ====== READ BEFORE USE =====
 This method will break your query and will not fall back. You have to destroy this instance
 and recreate it if you want to use it normally. You have been warned!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>optimizeSelectQuery</code> - True to optimize select query by appending WHERE 1=0. False to execute the select 
 query as is.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
<dd><code><a href="../../../../org/jetel/exception/ComponentNotReadyException.html" title="class in org.jetel.exception">ComponentNotReadyException</a></code></dd><dt><span class="strong">Since:</span></dt>
  <dd>Mar 2009</dd></dl>
</li>
</ul>
<a name="addBatch(org.jetel.data.DataRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBatch</h4>
<pre>public&nbsp;void&nbsp;addBatch(<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>&nbsp;outRecord)
              throws java.sql.SQLException</pre>
<div class="block">Adds set of parameters to batch and prepares output record from input record</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="executeBatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeBatch</h4>
<pre>public&nbsp;int[]&nbsp;executeBatch()
                   throws java.sql.SQLException</pre>
<div class="block">Submits a batch of commands to the database for execution and if all commands execute successfully, returns an 
 array of update counts. Fills stored records with number of updated records in database.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>an array of update counts containing one element for each command in the batch. The elements of the 
 array are ordered according to the order in which commands were added to the batch.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="getBatchResult()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBatchResult</h4>
<pre>public&nbsp;<a href="../../../../org/jetel/data/DataRecord.html" title="class in org.jetel.data">DataRecord</a>[]&nbsp;getBatchResult()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>updated records stored by addBatch(DataRecord) method</dd></dl>
</li>
</ul>
<a name="clearBatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearBatch</h4>
<pre>public&nbsp;void&nbsp;clearBatch()
                throws java.sql.SQLException</pre>
<div class="block">Empties this Statement object's current list of SQL commands. Removes all stored records.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="setBatchUpdate(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBatchUpdate</h4>
<pre>public&nbsp;void&nbsp;setBatchUpdate(boolean&nbsp;batchUpdate)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>batchUpdate</code> - </dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.sql.SQLException</pre>
<div class="block">Releases this Statement object's database and JDBC resources immediately instead of waiting for this to happen 
 when it is automatically closed.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="getStatement()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatement</h4>
<pre>public&nbsp;java.sql.Statement&nbsp;getStatement()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>underlying PreparedStatement object</dd></dl>
</li>
</ul>
<a name="getQuery()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuery</h4>
<pre>public&nbsp;java.lang.String&nbsp;getQuery()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>sql query as is send to database. For original query use toString() method</dd></dl>
</li>
</ul>
<a name="getLogger()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogger</h4>
<pre>public&nbsp;org.apache.commons.logging.Log&nbsp;getLogger()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>logger</dd></dl>
</li>
</ul>
<a name="setLogger(org.apache.commons.logging.Log)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLogger</h4>
<pre>public&nbsp;void&nbsp;setLogger(org.apache.commons.logging.Log&nbsp;logger)</pre>
<div class="block">Sets logger</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logger</code> - </dd></dl>
</li>
</ul>
<a name="getTableName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTableName()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>table name from query</dd></dl>
</li>
</ul>
<a name="returnResult()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnResult</h4>
<pre>public&nbsp;boolean&nbsp;returnResult()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd><b>true<b> if and only if query is to return some values (<i>returning</i> clause or exist some autogenereted columns)</dd></dl>
</li>
</ul>
<a name="getQueryType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryType</h4>
<pre>public&nbsp;<a href="../../../../org/jetel/database/sql/QueryType.html" title="enum in org.jetel.database.sql">QueryType</a>&nbsp;getQueryType()</pre>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="getCloverInputFields()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCloverInputFields</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;getCloverInputFields()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>names of clover fields, which will be used for filling prepared statement</dd></dl>
</li>
</ul>
<a name="getCloverOutputFields()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCloverOutputFields</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;getCloverOutputFields()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>names of clover fields, which will be fulfilled from database</dd></dl>
</li>
</ul>
<a name="getAutoGeneratedColumn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAutoGeneratedColumn</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;getAutoGeneratedColumn()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>names of fields for getting from database or from input record</dd></dl>
</li>
</ul>
<a name="getIncremental()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncremental</h4>
<pre>public&nbsp;<a href="../../../../org/jetel/connection/jdbc/SQLIncremental.html" title="class in org.jetel.connection.jdbc">SQLIncremental</a>&nbsp;getIncremental()</pre>
</li>
</ul>
<a name="setIncremental(org.jetel.connection.jdbc.SQLIncremental)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setIncremental</h4>
<pre>public&nbsp;void&nbsp;setIncremental(<a href="../../../../org/jetel/connection/jdbc/SQLIncremental.html" title="class in org.jetel.connection.jdbc">SQLIncremental</a>&nbsp;incremental)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jetel/connection/jdbc/SQLCloverCallableStatement.html" title="class in org.jetel.connection.jdbc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jetel/connection/jdbc/SQLDataParser.html" title="class in org.jetel.connection.jdbc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jetel/connection/jdbc/SQLCloverStatement.html" target="_top">Frames</a></li>
<li><a href="SQLCloverStatement.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
				<address>Copyright &#169; 2002-2015 Javlin a.s.</address>
			</small></p>
</body>
</html>
