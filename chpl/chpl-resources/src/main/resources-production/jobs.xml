<?xml version="1.0" encoding="utf-8"?>
<job-scheduling-data
    xmlns="http://www.quartz-scheduler.org/xml/JobSchedulingData"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.quartz-scheduler.org/xml/JobSchedulingData http://www.quartz-scheduler.org/xml/job_scheduling_data_2_0.xsd"
    version="2.0">
    <pre-processing-commands>
        <delete-triggers-in-group>triggerJob</delete-triggers-in-group>
        <delete-triggers-in-group>interruptJob</delete-triggers-in-group>
    </pre-processing-commands>
    <schedule>
        <!-- Delete from here to "DELETE END MARKER" after PROD push -->
        <!-- Job used to trigger interruptions of other jobs -->
        <job>
            <name>interruptJob</name>
            <group>systemJobs</group>
            <description>Triggers interruption of other running job</description>
            <job-class>gov.healthit.chpl.scheduler.job.InterruptJob</job-class>
            <durability>true</durability>
            <recover>false</recover>
        </job>

        <!-- Update triggers to run in serial -->
        <trigger>
            <cron>
                <name>generate2015</name>
                <group>downloadFileTrigger</group>
                <job-name>downloadFileJob2015</job-name>
                <job-group>systemJobs</job-group>
                <misfire-instruction>MISFIRE_INSTRUCTION_DO_NOTHING</misfire-instruction>
                <cron-expression>0 0 5 * * ?</cron-expression> <!-- At 0500 UTC every day -->
            </cron>
        </trigger>
        <trigger>
            <cron>
                <name>generate2014</name>
                <group>downloadFileTrigger</group>
                <job-name>downloadFileJob2014</job-name>
                <job-group>systemJobs</job-group>
                <misfire-instruction>MISFIRE_INSTRUCTION_DO_NOTHING</misfire-instruction>
                <cron-expression>0 30 6 * * ?</cron-expression> <!-- At 0630 UTC every day -->
            </cron>
        </trigger>
        <trigger>
            <cron>
                <name>generate2011</name>
                <group>downloadFileTrigger</group>
                <job-name>downloadFileJob2011</job-name>
                <job-group>systemJobs</job-group>
                <misfire-instruction>MISFIRE_INSTRUCTION_FIRE_ONCE_NOW</misfire-instruction>
                <cron-expression>0 45 4 ? JAN,APR,JUL,OCT 7#1</cron-expression> <!-- At 0445 UTC on the first Saturday of the quarter -->
            </cron>
        </trigger>
        <trigger>
            <cron>
                <name>g3Sed2015DownloadFileJob</name>
                <group>downloadFileTrigger</group>
                <job-name>g3Sed2015DownloadFileJob</job-name>
                <job-group>systemJobs</job-group>
                <misfire-instruction>MISFIRE_INSTRUCTION_DO_NOTHING</misfire-instruction>
                <cron-expression>0 30 3 * * ?</cron-expression> <!-- At 0330 UTC every day -->
            </cron>
        </trigger>
        <trigger>
            <cron>
                <name>surveillanceDownloadFileJob</name>
                <group>downloadFileTrigger</group>
                <job-name>surveillanceDownloadFileJob</job-name>
                <job-group>systemJobs</job-group>
                <misfire-instruction>MISFIRE_INSTRUCTION_DO_NOTHING</misfire-instruction>
                <cron-expression>0 15 4 * * ?</cron-expression> <!-- At 0415 UTC every day -->
            </cron>
        </trigger>
        <!-- DELETE END MARKER -->

        <!-- Job used to trigger mass required password change of almost all users-->
        <job>
            <name>massRequirePasswordChangeJob</name>
            <group>systemJobs</group>
            <description>Require password change, on next login, of all non-super-admin users</description>
            <job-class>gov.healthit.chpl.scheduler.job.MassRequirePasswordChangeJob</job-class>
            <durability>true</durability>
            <recover>false</recover>
        </job>
    </schedule>
</job-scheduling-data>
